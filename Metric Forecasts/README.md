# ПРОГНОЗИРОВАНИЕ МЕТРИК
## Краткое описание
 D ленте новостей приложения проводили флешмоб. Нужно оценить эффективность этого мероприятия.

Стэк:
* JupiterHub
* Clickhouse
* Python
* Статистические тесты

# Метрики которые могли изменится:
Количество лайков: количество лайков отображают вовлеченность аудитории .
Количество просмотров
DAU: отражает количество уникальных пользователей, которые активно взаимодействовали с продуктом или платформой в течение одного дня. В контексте флэшмоба, DAU покажет, сколько пользователей участвовало или реагировало на флэшмоб ежедневно в течение его продолжительности. Повышение DAU говорит о том, что флэшмоб привлек больше пользователей и сделал продукт более активным.
CTR: отражает процент пользователей, которые кликнули по ссылке или хэштегу, относительно общего числа пользователей, которые видели эту ссылку или хэштег. В контексте флэшмоба, CTR покажет, насколько успешно хэштег привлекал пользователей и стимулировал их участие. Повышение CTR говорит о том, что флэшмоб был привлекателен и вызывал интерес у аудитории.
Количество просмотренных постов - так как растет число просмотров и число лайков, значит и число событий на пользователя должно увеличиваться.

# Количество лайков
Улучшим модель, добавив тренд. Потому что в текущей  модели по умолчанию  учитывается только, то что в модели меняется общий уровень и не предпологает что есть тренд. 
Зададим его самостоятельно для всех остальных метрик
```python 
data_likes=df_likes.drop("day", axis=1).astype(np.float32)
#стандартизируем
normed_data, _ = causalimpact.misc.standardize(data_likes)
obs_data = normed_data.iloc[:41,0]
trend_component= tfp.sts.LocalLinearTrend(observed_time_series=obs_data)
# Строим модель, в качетсве pre_period берем все данные,которыми располагам, post_period - наш флешмоб
impact = CausalImpact(data=df_likes.set_index('day').likes,
                      pre_period=['2023-06-03', '2023-07-13'],
                      post_period=['2023-07-14', '2023-07-20'],
                      model=trend_component)
```
![2023-09-09_21-01-22](https://github.com/Macharaits/My_project/assets/117433497/5a3f3983-f277-4c84-8982-644c45b03302)
